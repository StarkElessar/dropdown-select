# MultiSelect Component

–ö–∞—Å—Ç–æ–º–Ω—ã–π TypeScript –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –≤—ã–±–æ—Ä–æ–º. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–≥–∞—Ç—ã–π API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–±–æ—Ä–æ–º –æ–ø—Ü–∏–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
2. [–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
3. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
4. [API Reference](#api-reference)
5. [–°–æ–±—ã—Ç–∏—è](#—Å–æ–±—ã—Ç–∏—è)
6. [–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è](#—Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è)
7. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
8. [–ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞](#–±—Ä–∞—É–∑–µ—Ä–Ω–∞—è-–ø–æ–¥–¥–µ—Ä–∂–∫–∞)
9. [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
10. [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install @your-scope/multi-select
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üöÄ –ù–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- üé® –ü–æ–ª–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚å®Ô∏è –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (ARIA attributes)
- üîÑ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- üìù TypeScript –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- üéØ –û–ø—Ü–∏—è "–í—ã–±—Ä–∞—Ç—å –≤—Å–µ"
- üîå –°–æ–±—ã—Ç–∏—è –¥–ª—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- üîí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (enable/disable)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### HTML —Ä–∞–∑–º–µ—Ç–∫–∞

```html
<select id="demo-select" multiple>
    <option value="1">–û–ø—Ü–∏—è 1</option>
    <option value="2">–û–ø—Ü–∏—è 2</option>
    <option value="3">–û–ø—Ü–∏—è 3</option>
</select>
```

### JavaScript/TypeScript –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
import { MultiSelect } from '@your-scope/multi-select';

const select = document.getElementById('demo-select');
if (select instanceof HTMLSelectElement) {
    const multiSelect = new MultiSelect(select);
}
```

## API Reference

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```typescript
new MultiSelect(selectElement: HTMLSelectElement, options?: Partial<MultiSelectOptions>)
```

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

#### MultiSelectOptions

```typescript
interface MultiSelectOptions {
    wrapperClassName: string;      // CSS –∫–ª–∞—Å—Å –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    buttonClassName: string;        // CSS –∫–ª–∞—Å—Å –¥–ª—è –∫–Ω–æ–ø–∫–∏
    dropdownClassName: string;      // CSS –∫–ª–∞—Å—Å –¥–ª—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
    openedClassName: string;        // CSS –∫–ª–∞—Å—Å –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    listClassName: string;         // CSS –∫–ª–∞—Å—Å –¥–ª—è —Å–ø–∏—Å–∫–∞ –æ–ø—Ü–∏–π
    optionClassName: string;       // CSS –∫–ª–∞—Å—Å –¥–ª—è –æ–ø—Ü–∏–∏
    texts: {
        placeholder: string;       // –¢–µ–∫—Å—Ç –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞
        allSelected: string;      // –¢–µ–∫—Å—Ç –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –≤—Å–µ—Ö –æ–ø—Ü–∏–π
        selectedCount: string;    // –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö
        allOptionText: string;    // –¢–µ–∫—Å—Ç –æ–ø—Ü–∏–∏ "–í—ã–±—Ä–∞—Ç—å –≤—Å–µ"
    };
}
```

#### DataSourceItem

```typescript
interface DataSourceItem {
    value: string;  // –ó–Ω–∞—á–µ–Ω–∏–µ –æ–ø—Ü–∏–∏
    text: string;   // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç –æ–ø—Ü–∏–∏
}
```

### –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏

```typescript
// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
bind(eventType: EventType, callback: EventCallback): void

// –û—Ç–ø–∏—Å–∫–∞ –æ—Ç —Å–æ–±—ã—Ç–∏–π
unbind(eventType: EventType, callback: EventCallback): void
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏

```typescript
// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
setValue(values: string[]): void

// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
getSelectedValues(): string[]

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
setDataSource(data: DataSourceItem[]): void
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

```typescript
// –í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
enable(isEnabled: boolean): void

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥—Ä–æ–ø–¥–∞—É–Ω–∞
isDropdownOpen(): boolean

// –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
destroy(): void
```

## –°–æ–±—ã—Ç–∏—è

### –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π

```typescript
type EventType = 'dataBound' | 'open' | 'close' | 'change' | 'stateChange';
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

#### dataBound
```typescript
{
    sender: MultiSelect;           // –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    options: HTMLOptionElement[];  // –°–ø–∏—Å–æ–∫ –æ–ø—Ü–∏–π
    timestamp: Date;              // –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
}
```

#### open/close
```typescript
{
    sender: MultiSelect;  // –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    timestamp: Date;     // –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
}
```

#### change
```typescript
{
    sender: MultiSelect;           // –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    selectedValues: string[];      // –°–ø–∏—Å–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    isAllSelected?: boolean;       // –§–ª–∞–≥ –≤—ã–±–æ—Ä–∞ –≤—Å–µ—Ö –æ–ø—Ü–∏–π
    changedValue?: string;        // –ò–∑–º–µ–Ω–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–ø—Ä–∏ –æ–¥–∏–Ω–æ—á–Ω–æ–º –≤—ã–±–æ—Ä–µ)
    isChecked?: boolean;          // –°–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–∞
}
```

#### stateChange
```typescript
{
    sender: MultiSelect;  // –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    type: string;        // –¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
    isEnabled: boolean;  // –ù–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    timestamp: Date;     // –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
}
```

## –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```css
:root {
    /* –†–∞–∑–º–µ—Ä—ã */
    --multi-select-max-width: 300px;
    --multi-select-dropdown-max-height: 200px;

    /* –û—Ç—Å—Ç—É–ø—ã */
    --multi-select-padding: 10px 15px;
    --multi-select-option-padding: 8px 15px;
    --multi-select-checkbox-margin: 8px;
    --multi-select-dropdown-margin: 5px;

    /* –¶–≤–µ—Ç–∞ */
    --multi-select-bg: #ffffff;
    --multi-select-border-color: #ccc;
    --multi-select-border-hover: #999;
    --multi-select-arrow-color: #666;
    --multi-select-option-hover: #f5f5f5;

    /* –°–æ—Å—Ç–æ—è–Ω–∏–µ disabled */
    --multi-select-disabled-opacity: 0.6;
    --multi-select-disabled-bg: #f5f5f5;
    --multi-select-disabled-border: #ddd;
    --multi-select-disabled-color: #999;

    /* –¢–µ–Ω–∏ */
    --multi-select-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

    /* –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
    --multi-select-font-size: 14px;
    --multi-select-font-family: Arial, sans-serif;

    /* –ì—Ä–∞–Ω–∏—Ü—ã */
    --multi-select-border-radius: 4px;
}
```

### CSS –∫–ª–∞—Å—Å—ã

| –ö–ª–∞—Å—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----------|
| `multi-select` | –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |
| `multi-select_disabled` | –°–æ—Å—Ç–æ—è–Ω–∏–µ disabled |
| `multi-select__button` | –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è |
| `multi-select__dropdown` | –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ |
| `multi-select__dropdown_open` | –û—Ç–∫—Ä—ã—Ç—ã–π –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ |
| `multi-select__list` | –°–ø–∏—Å–æ–∫ –æ–ø—Ü–∏–π |
| `multi-select__option` | –û–ø—Ü–∏—è –≤ —Å–ø–∏—Å–∫–µ |

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–æ–±—ã—Ç–∏–π

```typescript
const multiSelect = new MultiSelect(selectElement);

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
multiSelect.bind('change', (e) => {
    console.log('–í—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:', e.selectedValues);
});

// –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
multiSelect.bind('stateChange', (e) => {
    console.log('–°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:', e.isEnabled);
});
```

### –ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```typescript
const multiSelect = new MultiSelect(selectElement, {
    texts: {
        placeholder: '–í—ã–±–µ—Ä–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã...',
        allSelected: '–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤—ã–±—Ä–∞–Ω—ã',
        selectedCount: '–í—ã–±—Ä–∞–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:',
        allOptionText: '–í—ã–±—Ä–∞—Ç—å –≤—Å–µ'
    }
});
```

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```typescript
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
multiSelect.setDataSource([
    { value: '1', text: '–ù–æ–≤–∞—è –æ–ø—Ü–∏—è 1' },
    { value: '2', text: '–ù–æ–≤–∞—è –æ–ø—Ü–∏—è 2' },
    { value: '3', text: '–ù–æ–≤–∞—è –æ–ø—Ü–∏—è 3' }
]);

// –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
multiSelect.bind('dataBound', (e) => {
    console.log('–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã:', e.options);
});
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

```typescript
// –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
multiSelect.enable(false);

// –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
multiSelect.setValue(['1', '2']);

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
const values = multiSelect.getSelectedValues();

// –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏
multiSelect.destroy();
```

## –ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- Chrome (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –≤–µ—Ä—Å–∏–∏)
- Firefox (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –≤–µ—Ä—Å–∏–∏)
- Safari (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –≤–µ—Ä—Å–∏–∏)
- Edge (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –≤–µ—Ä—Å–∏–∏)

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –ó–∞–ø—É—Å–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run dev
```

### –°–±–æ—Ä–∫–∞

```bash
npm run build
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
npm run test
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. –°–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.
